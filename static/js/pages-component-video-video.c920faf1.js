(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[6990],{89213:function(t,e,n){var i=n(45293);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var a=n(56).Z;a("6d3b894f",i,!0,{sourceMap:!1,shadowMode:!1})},91742:function(t,e,n){"use strict";var i;n.d(e,{Z:function(){return c}});var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"common-page-head"},[n("v-uni-view",{staticClass:"common-page-head-title"},[t._v(t._s(t.title))])],1)},s=[],u={name:"page-head",props:{title:{type:String,default:""}}},l=u,d=n(69453),r=(0,d.Z)(l,o,s,!1,null,null,null,!1,i,a),c=r.exports},87920:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var i,a={pageHead:n(91742).Z},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("page-head",{attrs:{title:t.title}}),t.showVideo?n("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt"},[n("v-uni-view",[n("v-uni-video",{attrs:{id:"myVideo",src:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/2minute-demo.mp4","danmu-list":t.danmuList,"enable-danmu":!0,"danmu-btn":!0,controls:!0,poster:"https://web-assets.dcloud.net.cn/unidoc/zh/poster.png"},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.videoErrorCallback.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"uni-list uni-common-mt"},[n("v-uni-view",{staticClass:"uni-list-cell"},[n("v-uni-view",[n("v-uni-view",{staticClass:"uni-label"},[t._v("弹幕内容")])],1),n("v-uni-view",{staticClass:"uni-list-cell-db"},[n("v-uni-input",{staticClass:"uni-input",attrs:{type:"text",placeholder:"在此处输入弹幕内容"},model:{value:t.danmuValue,callback:function(e){t.danmuValue=e},expression:"danmuValue"}})],1)],1)],1),n("v-uni-view",{staticClass:"uni-btn-v"},[n("v-uni-button",{staticClass:"page-body-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendDanmu.apply(void 0,arguments)}}},[t._v("发送弹幕")])],1)],1):t._e()],1)},s=[],u=(n(68932),n(60228),n(12826),n(70560),{data:function(){return{title:"video",src:"",danmuList:[{text:"第 1s 出现的弹幕",color:"#ff0000",time:1},{text:"第 3s 出现的弹幕",color:"#ff00ff",time:3}],danmuValue:"",showVideo:!1}},onReady:function(t){this.videoContext=uni.createVideoContext("myVideo"),this.showVideo=!0},methods:{sendDanmu:function(){this.videoContext.sendDanmu({text:this.danmuValue,color:this.getRandomColor()}),this.danmuValue=""},videoErrorCallback:function(t){uni.showModal({content:t.target.errMsg,showCancel:!1})},getRandomColor:function(){for(var t=[],e=0;e<3;++e){var n=Math.floor(256*Math.random()).toString(16);n=1==n.length?"0"+n:n,t.push(n)}return"#"+t.join("")}}}),l=u,d=(n(89213),n(69453)),r=(0,d.Z)(l,o,s,!1,null,"1e396797",null,!1,a,i),c=r.exports},45293:function(t,e,n){"use strict";n.r(e);var i=n(43481),a=n.n(i),o=n(2400),s=n.n(o),u=s()(a());u.push([t.id,"uni-video[data-v-1e396797]{width:%?690?%;width:100%;height:400px}",""]),e["default"]=u}}]);