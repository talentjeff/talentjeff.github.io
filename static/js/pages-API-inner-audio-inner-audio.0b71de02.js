(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[1766],{3119:function(n,t,i){var a=i(42952);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[n.id,a,""]]),a.locals&&(n.exports=a.locals);var e=i(56).Z;e("2f659ec3",a,!0,{sourceMap:!1,shadowMode:!1})},91742:function(n,t,i){"use strict";var a;i.d(t,{Z:function(){return d}});var e,o=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-uni-view",{staticClass:"common-page-head"},[i("v-uni-view",{staticClass:"common-page-head-title"},[n._v(n._s(n.title))])],1)},s=[],u={name:"page-head",props:{title:{type:String,default:""}}},l=u,c=i(69453),r=(0,c.Z)(l,o,s,!1,null,null,null,!1,a,e),d=r.exports},16459:function(n,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var a,e={pageHead:i(91742).Z},o=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-uni-view",{staticClass:"uni-padding-wrap"},[i("page-head",{attrs:{title:"audio"}}),i("v-uni-view",{staticClass:"uni-common-mt"},[i("v-uni-slider",{attrs:{value:n.position,min:0,max:n.duration},on:{changing:function(t){arguments[0]=t=n.$handleEvent(t),n.onchanging.apply(void 0,arguments)},change:function(t){arguments[0]=t=n.$handleEvent(t),n.onchange.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"play-button-area"},[i("v-uni-image",{staticClass:"icon-play",attrs:{src:n.playImage},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.play.apply(void 0,arguments)}}})],1)],1)},s=[],u=i(96257),l="https://vkceyugu.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3",c={data:function(){return{title:"innerAudioContext",isPlaying:!1,isPlayEnd:!1,currentTime:0,duration:100}},computed:{position:function(){return this.isPlayEnd?0:this.currentTime},playImage:function(){return this.isPlaying?"/static/pause.png":"/static/play.png"}},onLoad:function(){this._isChanging=!1,this._audioContext=null,this.createAudio()},onUnload:function(){null!=this._audioContext&&this.isPlaying&&this.stop()},methods:{createAudio:function(){var n=this,t=this._audioContext=uni.createInnerAudioContext();return t.autoplay=!1,t.src=l,t.onPlay((function(){console.log("开始播放")})),t.onTimeUpdate((function(i){!0!==n._isChanging&&(n.currentTime=t.currentTime||0,n.duration=t.duration||0)})),t.onEnded((function(){n.currentTime=0,n.isPlaying=!1,n.isPlayEnd=!0})),t.onError((function(t){n.isPlaying=!1,console.log(t.errMsg),console.log(t.errCode)})),t},onchanging:function(){this._isChanging=!0},onchange:function(n){console.log(n.detail.value),console.log((0,u.Z)(n.detail.value)),this._audioContext.seek(n.detail.value),this._isChanging=!1},play:function(){this.isPlaying?this.pause():(this.isPlaying=!0,this._audioContext.play(),this.isPlayEnd=!1)},pause:function(){this._audioContext.pause(),this.isPlaying=!1},stop:function(){this._audioContext.stop(),this.isPlaying=!1}}},r=c,d=(i(3119),i(69453)),p=(0,d.Z)(r,o,s,!1,null,"02d1e44d",null,!1,e,a),h=p.exports},42952:function(n,t,i){"use strict";i.r(t);var a=i(43481),e=i.n(a),o=i(2400),s=i.n(o),u=s()(e());u.push([n.id,".play-time-area[data-v-02d1e44d]{display:flex;flex-direction:row;margin-top:20px}.duration[data-v-02d1e44d]{margin-left:auto}.play-button-area[data-v-02d1e44d]{display:flex;flex-direction:row;justify-content:center;margin-top:50px}.icon-play[data-v-02d1e44d]{width:60px;height:60px}",""]),t["default"]=u}}]);